https://talent.supporterz.jp/geekten/2021/

* 作品タイトル
てとよん ~テトリス4列REN練習アプリ~

* 作品の概要
前提知識1: 
    テトリスにはRENという概念があり, 連続で行を消去することを繰り返すとどんどん相手に送る行が増えていく. 4列開けて, 1列ずつ消すとRENをたくさん繋げることができる. この戦略を「4列REN」と呼ぶ.

前提知識2: 
    従来のテトリスではテトリミノを縦にして壁にくっつけた場合や地面に横倒しにして寝かせた場合などに、回転させられない場合が多く、特に落下速度が上がるほどにプレイヤーの意図する通りに回転できないことが多々あった。
    こうした不利を克服するよう、テトリミノの回転後に他のブロックや壁といった障害物に重なってしまう場合、ブロックを一定の位置（回転方向ごとに４通りの候補がある）にずらして判定するシステムが導入された。これにより、スムーズかつ直感的な回転操作が可能になった。
    (wikipediaより引用) 
    上記のような回転システムをスーパーローテーションシステム(SRS)と呼ぶ.

このアプリは4列RENの「RENを繋げる」部分を重点的に練習するためのWEBアプリです.




* 作品のアピールポイント

<操作をキーボードで実際に>
    実装上, テトリスの複雑な回転メソッド(SRS)をコーディングするより, クイズ形式(パネルを選択すると, そこにミノを置いたこととする形式)の方が楽である. 
    しかし, ユーザ目線で考えると, やはり操作をキーボードで実際にできた方が, (SRSを活用した)回転入れの練習にもなるので, 実際に操作をできるようにした.

<GAMEOVER後に, 盤面の履歴を表示>
    RENが繋がらなくなった時, GAMEOVERとなるが, そのときに画面にどのように消していったか, 履歴を表示することで, どこでどうすればよりRENが繋がったかを振り返ることができる.
    
<ランキング機能>
    25REN以上できた場合のみ, ランキングに登録できる. ログインを必要とせず, 名前を入力するだけで名前とREN,日時をランキング登録することができる.
    問題点として, 他の人と名前がかぶるなどがあるが, ログイン・会員登録の手間と天秤にかけてこのシステムを採用した.

<1手戻す機能>
    普段コントローラで操作している人が多いことを考えると, キーボードならではの操作ミスなどが考えられる. 
    1手戻すボタンを実装し, そのようなストレスからユーザを守るよう設計.
    なお, 5回以上その機能を使うとランキング登録不可など, ランキングの価値を損なわない工夫が必要(未実装)

<選択モード(パズル形式)>
    <操作をキーボードで実際に>で述べたような, クイズ形式のモードも実装.
    電車などの隙間時間でスマホで練習するためには, 操作より選択の方が楽だと考えた.
    
//以下全て未実装部分
<一番長く繋がるルートを表示する機能>
    プレイヤがここからどうするべきかわからなくなったときに, ボタンを押すと, どのように消すとRENが綺麗に繋がるかを表示する機能.
    消す前と後の形を辺で繋いだグラフを, 手数, ミノなどで拡張したグラフ上の幅優先探索で実現.
    <1手戻す機能>と併用することで, GAMEOVER後の振り返りをより充実したものに. 

<開始時点でRENが続かないことがわかった場合, RETRYを促す機能>
    繋がらないのにプレイするストレスからユーザを守るよう設計. 
    上記メソッドにより実現




* 使用技術
ruby 2.7.3
Rails 6.1.4
React
Bootstrap


* 作品URL
https://tet4.herokuapp.com

* GitHub
https://github.com/petite-etoile/tetris4ren

* その他
著作権について:
    思想又は感情を創作的に表現したものであって，文芸，学術，美術又は音楽の範囲に属するものをいう。(著作権法第2条)
    
    であるので, テトリスのルール自体は(日本の法律上で)著作権の保護対象ではない.(テトリス, tetrisなどの名称は商標権登録されていて, 使用するとよくない)
    参考: https://hotnews8.net/society/tetris-copyright